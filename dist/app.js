window.onload=function(){var a=(document.getElementsByClassName("container")[0],document.getElementsByTagName("input")[0]),b=document.getElementById("chmodCode"),c=document.getElementById("example"),d=document.getElementById("clicktocopy"),e=d.innerText;a.value="777",a.onclick=function(a){Ui.copyInputContentToClipboard(a.target,e,d,null,null,"red-notify")},c.onclick=function(a){Ui.copyInputContentToClipboard(b,e,d,null,null,"red-notify")},container.addEventListener("keyup",function(a){a.preventDefault(),13!==event.keyCode&&32!==event.keyCode||(console.log(a),a.target.click())}),container.addEventListener("click",function(c){a=document.getElementsByTagName("input")[0];var d=c.target,e=d.parentNode,f=e.parentNode.id,g=Calculate.whichPermission(e.classList),h=parseInt(a.value);if(Calculate.doesThisListHaveThisItem(e.classList,"permission")){var i=!Calculate.yesOrNo(e);console.log(i),Ui.toggleYesNoText(d,g),Ui.toggleYesNoCssClass(e),h=Calculate.parseOctal(Calculate.newOctal(h,f,g,i)),a.value=h,b.value="chmod "+h+" "}})};var Calculate={newOctal:function(a,b,c,d){var e="user"==b?100:"group"==b?10:1,f="read"==c?4:"write"==c?2:1,g=e*f;return console.log("preliminary: "+g),d?(a+=g,console.log("add premilinary")):(a-=g,console.log("subtract preliminary")),a},parseOctal:function(a){new String;return a<=9?"00"+a.toString():a<=99?"0"+a.toString():a.toString()},yesOrNo:function(a){return!!this.doesThisListHaveThisItem(a.classList,"yes",!0)},doesThisListHaveThisItem:function(a,b,c){for(var d=0;d<a.length;d++){if(a[d]==b&&c)return!0;if(a[d]==b&&!c)return d}return!1},whichPermission:function(a){return this.doesThisListHaveThisItem(a,"read",!0)?"read":this.doesThisListHaveThisItem(a,"write",!0)?"write":this.doesThisListHaveThisItem(a,"execute",!0)?"execute":null}},Ui={copyInputContentToClipboard:function(a,b,c,d,e,f,g){d=d||"Copied!",a.select(),document.execCommand("Copy"),a.blur(),c&&this.notify(c,b,d,e,f,g)},notify:function(a,b,c,d,e,f){d=d||1500,f||(a.innerText=c,f=!0,window.setTimeout(function(){a.innerText=b,f=!1,e&&a.classList.remove(e)},d)),e&&a.classList.add(e)},toggleYesNoText:function(a,b){Calculate.yesOrNo(a.parentNode)?a.innerText="not "+b:a.innerText=b},toggleYesNoCssClass:function(a){Calculate.yesOrNo(a)?(a.classList.remove("yes"),a.classList.add("no")):(a.classList.remove("no"),a.classList.add("yes"))}};